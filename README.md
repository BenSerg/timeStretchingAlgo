# Time Stretching Audio Without Pitch Change

Реализация алгоритма растяжения/сжатия аудиофайлов без изменения высоты тона (pitch) с использованием фазовокодера.

## Описание

Этот проект реализует алгоритм временного растяжения аудиосигналов, который позволяет ускорять или замедлять воспроизведение аудио без изменения его тональности. Алгоритм основан на методе фазовокодера, который работает в частотной области, обрабатывая фазу и амплитуду спектральных компонентов.

## Требования

- Python 3.7+
- Установленные зависимости из `requirements.txt`

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/BenSerg/phaseVocoderVK.git
cd phaseVocoderVK
```

2. Установите зависимости одним из способов:
```bash
make install-deps
```
```bash
pip3 install -r requirements.txt
```

## Использование

### Через скрипт run.sh:
```bash
./run.sh input.wav output.wav 1.5
```

### Прямой вызов Python:
```bash
python3 sol.py input.wav output.wav 1.5
```

### Параметры:
- `<input.wav>` - входной аудиофайл в формате WAV
- `<output.wav>` - выходной аудиофайл в формате WAV  
- `<time_stretch_ratio>` - коэффициент растяжения времени:
  - `> 1.0` - замедление (растяжение)
  - `< 1.0` - ускорение (сжатие)
  - `= 1.0` - без изменений

## Примеры

```bash
# Замедлить аудио в 2 раза (удвоить длительность)
./run.sh song.wav slow_song.wav 2.0

# Ускорить аудио в 1.5 раза (уменьшить длительность)
./run.sh speech.wav fast_speech.wav 0.667

# Растянуть на 30%
./run.sh audio.wav stretched.wav 1.3
```

## Алгоритм

Проект реализует алгоритм фазовокодера (phase vocoder), который состоит из следующих шагов:

1. **STFT (Short-Time Fourier Transform)** - преобразование сигнала в частотную область с использованием оконного преобразования Фурье
2. **Обработка фазы** - коррекция фазовых компонентов для сохранения тональности при изменении временной шкалы
3. **ISTFT (Inverse STFT)** - обратное преобразование в временную область
4. **Пересэмплирование** - восстановление сигнала с новой длительностью

## Структура проекта

```
├── sol.py              # Основная реализация алгоритма
├── Makefile            # Команды для установки зависимостей
├── requirements.txt    # Список зависимостей Python
├── run.sh              # Скрипт для запуска программы
```

## Зависимости

- `numpy` (~=1.26.4)
- `librosa` (~=0.10.1)
- `scipy` (~=1.12.0)
